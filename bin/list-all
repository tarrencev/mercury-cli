#!/usr/bin/env bash
set -euo pipefail
[ "${BASH_VERSINFO[0]:-0}" -ge 3 ] && set -o pipefail

repo="${ASDF_PLUGIN_SOURCE_URL:-https://github.com/tarrencev/mercury-cli.git}"

git ls-remote --tags --refs "$repo" \
  | awk '{print $2}' \
  | sed 's#refs/tags/##' \
  | sed 's/^v//' \
  | grep -E '^[0-9]+\\.[0-9]+\\.[0-9]+([-.].*)?$' \
  | { sort -V 2>/dev/null || sort; } \
  | uniq

